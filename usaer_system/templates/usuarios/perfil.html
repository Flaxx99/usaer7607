{% extends 'base.html' %}
{% load crispy_forms_tags %} 
{% load group_filters %} 
{% load i18n %}

{% block title %}{% trans 'Mi Perfil' %}{% endblock %}

{% block content_title %}
<h1>{% trans 'Mi Perfil' %}</h1>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
› {% trans 'Perfil' %}
</div>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4">
        <div class="card card-primary card-outline">
            <div class="card-body box-profile">

                <h3 class="profile-username text-center">{{ user.get_full_name }}</h3>

                <p class="text-muted text-center">{{ user.get_role_display }}</p>

                <ul class="list-group list-group-unbordered mb-3">
                    <li class="list-group-item">
                        <b>{% trans 'Usuario' %}</b>
                        <span class="float-right">{{ user.username }}</span>
                    </li>
                    <li class="list-group-item">
                        <b>{% trans 'Correo electrónico' %}</b>
                        <span class="float-right">{{ user.email }}</span>
                    </li>
                    <li class="list-group-item">
                        <b>{% trans 'Estado' %}</b>
                        <span class="float-right">
                            <span class="badge badge-{% if user.activo %}success{% else %}danger{% endif %}">
                                {% if user.activo %}{% trans 'Activo' %}{% else %}{% trans 'Inactivo' %}{% endif %}
                            </span>
                        </span>
                    </li>
                </ul>

                <a href="{% url 'usuarios:change_password' %}" class="btn btn-primary btn-block">
                    <i class="fas fa-key"></i> <b>{% trans 'Cambiar contraseña' %}</b>
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">{% trans 'Editar Perfil' %}</h3>
            </div>
            <div class="card-body">
                {% crispy form %}
            </div>
        </div>
    </div>
</div>
{% endblock %}